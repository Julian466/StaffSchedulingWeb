name: CI Check

on:
  # Trigger bei jedem Push auf IRGENDEINEN Branch
  push:
  # Trigger bei jedem Pull Request auf IRGENDEINEN Branch
  pull_request:


jobs:
  # Job 1: Nur Linting (Failt, wenn Code "unsauber" ist)
  lint:
    name: Lint Check
    runs-on: ubuntu-latest
    steps:
      - name: Code auschecken
        uses: actions/checkout@v4

      - name: Node.js v24 installieren
        uses: actions/setup-node@v4
        with:
          node-version: '24.11.0'
          cache: 'npm'

      - name: Dependencies installieren
        run: npm ci

      - name: Linter ausführen
        # "continue-on-error: true" würde den Job grün lassen, auch wenn Fehler gefunden werden.
        # Wenn du willst, dass er rot wird (aber der Build trotzdem läuft), lass es weg.
        run: npm run lint

  # Job 2: Build (Wichtigster Check)
  build:
    name: Build Check
    runs-on: ubuntu-latest
    # "needs: lint" würde bedeuten, Build läuft erst, wenn Lint erfolgreich ist.
    # Wir lassen es weg, damit beide PARALLEL laufen (schneller & Build läuft auch bei Lint-Fehlern).
    steps:
      - name: Code auschecken
        uses: actions/checkout@v4

      - name: Node.js v24 installieren
        uses: actions/setup-node@v4
        with:
          node-version: '24.11.0'
          cache: 'npm'

      - name: Dependencies installieren
        run: npm ci

      - name: Build ausführen
        run: npm run build
